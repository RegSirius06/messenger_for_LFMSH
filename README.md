# Мессенджер для ЛФМШ

При создании я вдохновлялся и использовал как образец данный репозиторий: https://github.com/RegSirius06/lisbank

## Общие комментарии

Фактически, данный сайт можно назвать копией мессенджера из репозитория выше. Тем не менее, есть некоторые отличия в реализации. Самые заметные изменения - у чатов появились свои иконки, появились объявления - новый тип сообщений.

## Комментарий по поводу эксплуатации проекта

Я рекомендую вам использовать именно данную конфигурацию сайта, с данной базой данных. В ней только один пользователь, он же и супер-юзер.

`Логин: admin`

`Пароль: admin`

Сменить пароль можно на admin-панели (её адрес, например, localhost:8000/admin/) в разделе "Пользователи".
Нельзя менять логин этого пользователя, группы, в которых он состоит, фамилию, имя, отчество, пользователя, отряд в аккаунте, связанном с этим пользователем.

Тем не менее, вы можете создать свою базу данных с нуля. В таком случае:


1) Создайте суперпользователя с логином admin.

2) Запустите сайт

3) Войдите в админ-панель сайта

4) Добавьте аккаунт (в разделе "Accounts") с привязкой к созданному пользователю, с обязательным заполнением именно таким образом следующих панелей:


`Пользователь: admin`

`Фамилия: Admin`

`Отряд: 0`


Остальные поля заполняйте на ваше усмотрение.

Используйте отряд номер 0 как отряд для педсостава.

После успешной регистрации пользователя можно перейти непосредственно в мессенджер (по адресу, например, "localhost:8000").

## Установка и запуск

Нужно установить Python 3.11 и младше, если вы этого не сделали.
`python.org`

### Способ 1 (рекомендуется)
1. Запустите терминал, перейти в папку проекта.
2. Зайдите в виртуальную среду (`venv`):
```bash
source venv/bin/activate # Linux
venv\bin\Activate.ps1 # Windows
```
Должна появиться надпись (venv) в начале

3. Запустить файл `manage.py` командой
```bash
python3 manage.py runserver 0.0.0.0:8000 --insecure # Linux
python .\manage.py runserver 0.0.0.0:8000 --insecure # Windows
```
Сайт доступен в локальной сети под адресом сервера на порте 8000.
Например, если адрес вашего ПК в локальной сети `192.168.50.40`, это будет адрес `192.168.50.40:8000`.

### Способ 2
1. Установите необходимые пакеты с помощью pip:
```bash
pip install -r requirements.txt 
```
2. Запустить файл `manage.py` командой
```bash
python3 manage.py runserver 0.0.0.0:8000 --insecure # Linux
python .\manage.py runserver 0.0.0.0:8000 --insecure # Windows
```
## Регистрация пользователей

Пользователей можно зарегистрировать в разделе "Работа с пользователями". После регистрации его логин и пароль будут записаны в в файл "All_users.txt". Обратите внимание, что при удалении пользователя запись о нём в файле остаётся.

При сбросе всех паролей будут обновлены пароли у всех пользователей, логин которых не содержит текста "admin". После сброса паролей обновлённый список будет находиться в файле "All_users.txt".

## Хорошего пользования!
