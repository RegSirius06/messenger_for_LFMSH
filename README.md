# Мессенджер для ЛФМШ

## При создании я вдохновлялся и использовал как образец данный репозиторий: https://github.com/RegSirius06/lisbank

## Общие комментарии

Фактически, данный сайт можно назвать копией мессенджера из репозитория выше. Тем не менее, есть некоторые отличия в реализации. Самыее заметные изменения - у чатов появились свои иконки, появились объявления - новый тип сообщений.

## Комментарий по поводу эксплуатации проекта

Я рекомендую вам использовать именно данную конфигурацию сайта, с данной базой данных. В ней только один пользователь, он же и супер-юзер.

Логин: admin
Пароль: admin

Сменить пароль можно на admin-панели (её адрес, например, localhost:8000/admin/) в разделе "Пользователи".
Нельзя менять логин этого пользователя, группы, в которых он состоит, фамилию, имя, отчество, пользователя, отряд в аккаунте, связанном с этим пользователем.

Тем не менее, вы можете создать свою базу данных с нуля. В таком случае:

1) Создайте суперпользователя с логином admin.
2) Запустите сайт
3) Войдите в админ-панель сайта
4) Добавьте аккаунт (в разделе "Accounts") с привязкой к созданному пользователю, с обязательным заполнением именно таким образом следующих панелей:

Пользователь: admin
Имя: BANK
Отчество: BANK
Фамилия: Admin
Отряд: 0

Остальные поля заполняйте на ваше усмотрение.

Используйте отряд номер 0 как отряд для педсостава.

После успешной регистрации пользователя можно перейти непосредственно в мессенджер (по адресу, например, "localhost:8000").

## Интерфейс мессенджера и админ-панели

Интерфейс мессенджера и админ-панели интуитивно понятен.

## Как использовать

Нужно установить Python 3.11 и младше, если вы этого не сделали.

Установить Django:

#### pip install Django

Я использовал Django 4.2.2, если стоит версия новее, то ничего страшного.

Проверить версию можно, запустив файл /lisbank/django_ver.py

Установить библиотеку PIL (называется почему-то Pillow):

#### pip install Pillow

Затем нужно изменить одну строчку в /messenger/settings.py. Она почти в самом конце файла:

#### STATIC_URL = 'static/'
#### STATIC_ROOT = 'C:/LFMSH/messenger/lfmsh/static/'

В STATIC_ROOT необходимо вбить путь до папки static на вашем устройсте, например:

#### STATIC_ROOT = 'D:/messenger/lfmsh/static/'

Учтите, что путь должен оканчиваться на "/lfmsh/static/".

Если это изменение не внести, то, скорее всего, дизайн сайта пострадает очень сильно

В консоли перейти в папку, где есть файл "manage.py" и запустить его командой:

#### python .\manage.py runserver 0.0.0.0:8000 --insecure

Сайт доступен в локальной сети по адресу "192.168.50.40:8000", если адрес вашего ПК в локальной сети "192.168.50.40".

## Регистрация пользователей

Пользователей можно зарегистрировать в разделе "Работа с пользователями". После регистрации его логин и пароль будут записаны в в файл "All_users.txt". Обратите внимание, что при удалении пользователя запись о нём в файле остаётся.

При сбросе всех паролей будут обновлены пароли у всех пользователей, логин которых не содержит текста "admin". После сброса паролей обновлённый список будет находиться в файле "All_users.txt".

## Хорошего пользования!
